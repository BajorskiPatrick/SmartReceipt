openapi: 3.0.3
info:
  title: "Smart Receipt API"
  version: "1.0.0"

servers:
  - url: "http://localhost:8080/api/v1.0"
    description: "Główny serwer backendowy (Spring Boot)"
  - url: "http://localhost:8000/api/v1.0"
    description: "Serwer modułu AI/ML (FastAPI)"

tags:
  - name: "1. Core API - Frontend -> Backend"
    description: "Endpointy wystawione przez główny backend (Spring Boot) dla aplikacji klienckiej (React)."
  - name: "2. AI API - Backend -> Moduł AI"
    description: "Wewnętrzne endpointy modułu AI (FastAPI), z których korzysta backend."

paths:
  /auth/register:
    post:
      operationId: registerUser
      tags:
        - "1. Core API - Frontend -> Backend"
      summary: "Rejestracja nowego użytkownika"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserRegistration'
      responses:
        '201':
          description: "Użytkownik pomyślnie zarejestrowany"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AuthResponse"
        '400':
          description: "Błędne dane wejściowe"
  
  /auth/login:
    post:
      operationId: loginUser
      tags:
        - "1. Core API - Frontend -> Backend"
      summary: "Logowanie użytkownika"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserLogin'
      responses:
        '200':
          description: "Pomyślne logowanie"
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AuthResponse'
        '401':
          description: "Nieprawidłowe dane logowania"

  /auth/logout:
    post:
      operationId: logoutUser
      tags:
        - "1. Core API - Frontend -> Backend"
      summary: "Wylogowanie użytkownika"
      security:
        - bearerAuth: [ ]
      responses:
        '200':
          description: "Pomyślnie wylogowano"

  /auth/refresh:
    post:
      operationId: userTokenRefresh
      tags:
        - "1. Core API - Frontend -> Backend"
      summary: "Odświeżenie tokenu użytkownika"
      responses:
        '200':
          description: "Pomyślnie odświeżono token"
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RefreshedToken'
        '401':
          description: "Brak tokenu lub token niepoprawny"

  /expenses/upload:
    post:
      operationId: uploadReceipt
      tags:
        - "1. Core API - Frontend -> Backend"
      summary: "Przesłanie zdjęcia paragonu do przetworzenia"
      description: "Endpoint przyjmuje obraz paragonu. Backend wysyła go do modułu AI w celu ekstrakcji danych (OCR) i kategoryzacji, a następnie zwraca użytkownikowi gotowy do zaakceptowania i dodania wydatek."
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                image:
                  type: string
                  format: binary
                  description: "Plik obrazu paragonu"
          application/json:
            schema:
              $ref: '#/components/schemas/NewOcrExpense'
      responses:
        '201':
          description: "Paragon przetworzony, wydatek gotowy do zatwierdzenia"
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OcrExpense'
        '500':
          description: "Błąd podczas przetwarzania obrazu"
          
  /expenses/manual:
    post:
      operationId: addManualExpense
      tags:
        - "1. Core API - Frontend -> Backend"
      summary: "Ręczne dodanie wydatku"
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/NewExpense'
      responses:
        '201':
          description: "Wydatek dodany pomyślnie"
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ExpenseDetails'

  /expenses:
    get:
      operationId: getExpensesList
      tags:
        - "1. Core API - Frontend -> Backend"
      summary: "Pobranie historii wydatków (dla Widżetu 3)"
      description: "Zwraca listę wydatków zalogowanego użytkownika. Kluczowy endpoint dla Widżetu 3 na dashboardzie. Umożliwia filtrowanie po dacie (rok/miesiąc) oraz kategorii. Domyślnie wspiera paginację."
      security:
        - bearerAuth: [ ]
      parameters:
        - name: year
          in: query
          required: true
          schema:
            type: integer
            example: 2025
          description: "Rok, dla którego pobierane są wydatki"
        - name: month
          in: query
          required: true
          schema:
            type: integer
            example: 11
          description: "Miesiąc (1-12), dla którego pobierane są wydatki"
        - name: categoryId
          in: query
          required: false
          schema:
            type: string
            format: uuid
            description: "From which category expenses should be fetched"
        - name: page
          in: query
          required: false
          schema:
            type: integer
            default: 0
            description: "Numer strony (dla paginacji)"
        - name: size
          in: query
          required: false
          schema:
            type: integer
            default: 20
            description: "Liczba elementów na stronie"
      responses:
        '200':
          description: "Spaginowana lista wydatków"
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ExpenseSummaryPage'

  /expenses/{expenseId}:
    get:
      operationId: getExpenseDetails
      tags:
        - "1. Core API - Frontend -> Backend"
      summary: "Pobranie pełnych szczegółów wydatku (z itemami)"
      description: "Pobiera pełny obiekt wydatku, w tym listę wszystkich jego pozycji (itemów). Używane, gdy użytkownik klika 'Details' na liście."
      security:
        - bearerAuth: [ ]
      parameters:
        - name: expenseId
          in: path
          required: true
          description: "ID wydatku, którego szczegóły chcemy pobrać"
          schema:
            type: string
            format: uuid
        - name: categoryId
          in: query
          required: false
          description: "Category which expense items we want to see in details"
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: "Szczegóły wydatku"
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ExpenseDetails'
        '404':
          description: "Nie znaleziono wydatku"
    put:
      operationId: updateExpense
      tags:
        - "1. Core API - Frontend -> Backend"
      summary: "Aktualizacja całego wydatku"
      description: "Aktualizuje podstawowe informacje o wydatku oraz wszystkie jego pozycje (items). Items są zastępowane nową listą."
      security:
        - bearerAuth: [ ]
      parameters:
        - name: expenseId
          in: path
          required: true
          description: "ID wydatku do aktualizacji"
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/NewExpense'
      responses:
        '200':
          description: "Wydatek zaktualizowany pomyślnie"
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ExpenseDetails'
        '404':
          description: "Nie znaleziono wydatku"
        '400':
          description: "Błędne dane wejściowe"
    delete:
      operationId: deleteExpense
      tags:
        - "1. Core API - Frontend -> Backend"
      summary: "Usunięcie wydatku"
      description: "Usuwa wydatek wraz ze wszystkimi jego pozycjami (items)."
      security:
        - bearerAuth: [ ]
      parameters:
        - name: expenseId
          in: path
          required: true
          description: "ID wydatku do usunięcia"
          schema:
            type: string
            format: uuid
      responses:
        '204':
          description: "Wydatek usunięty pomyślnie"
        '404':
          description: "Nie znaleziono wydatku"

  /expenses/{expenseId}/items/{itemId}:
    put:
      operationId: updateExpenseItem
      tags:
        - "1. Core API - Frontend -> Backend"
      summary: "Aktualizacja konkretnej pozycji wydatku"
      description: "Aktualizuje szczegóły pojedynczego itemu w wydatku (np. nazwę produktu, cenę, kategorię)."
      security:
        - bearerAuth: [ ]
      parameters:
        - name: expenseId
          in: path
          required: true
          description: "ID wydatku"
          schema:
            type: string
            format: uuid
        - name: itemId
          in: path
          required: true
          description: "ID pozycji (itemu) do aktualizacji"
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/NewExpenseItem'
      responses:
        '200':
          description: "Pozycja zaktualizowana pomyślnie"
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ExpenseItem'
        '404':
          description: "Nie znaleziono wydatku lub pozycji"
        '400':
          description: "Błędne dane wejściowe"
    delete:
      operationId: deleteExpenseItem
      tags:
        - "1. Core API - Frontend -> Backend"
      summary: "Usunięcie konkretnej pozycji wydatku"
      description: "Usuwa pojedynczy item z wydatku. Całkowita kwota wydatku i liczba itemów są automatycznie przeliczane."
      security:
        - bearerAuth: [ ]
      parameters:
        - name: expenseId
          in: path
          required: true
          description: "ID wydatku"
          schema:
            type: string
            format: uuid
        - name: itemId
          in: path
          required: true
          description: "ID pozycji (itemu) do usunięcia"
          schema:
            type: string
            format: uuid
      responses:
        '204':
          description: "Pozycja usunięta pomyślnie"
        '404':
          description: "Nie znaleziono wydatku lub pozycji"

  /budgets:
    get:
      operationId: getUserBudget
      tags:
        - "1. Core API - Frontend -> Backend"
      summary: "Pobranie aktualnego budżetu użytkownika (dla tego miesiąca)"
      security:
        - bearerAuth: [ ]
      parameters:
        - name: year
          in: query
          required: true
          schema:
            type: integer
            example: 2025
          description: "Rok budżetu"
        - name: month
          in: query
          required: true
          schema:
            type: integer
            example: 11
          description: "Miesiąc budżetu"
      responses:
        '200':
          description: "Budżet użytkownika na aktualny miesiąc"
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MonthlyBudget'
        '204':
          description: "Brak zdefiniowanego budżetu na dany miesiąc"
    post:
      operationId: createUserBudget
      tags:
        - "1. Core API - Frontend -> Backend"
      summary: "Utworzenie nowego budżetu użytkownika"
      security:
        - bearerAuth: [ ]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/NewMonthlyBudget'
      responses:
        '200':
          description: "Budżet utworzony pomyślnie"
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MonthlyBudget'
        '400':
          description: "Budżet na dany miesiąc już istnieje"

  /budgets/{budgetId}:
    put:
      operationId: updateUserBudget
      tags:
        - "1. Core API - Frontend -> Backend"
      summary: "Aktualizacja budżetu użytkownika"
      security:
        - bearerAuth: []
      parameters:
        - name: budgetId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/NewMonthlyBudget'
      responses:
        '200':
          description: "Budżet zaktualizowany pomyślnie"
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MonthlyBudget'

  /dashboard:
    get:
      operationId: getDashboardData
      tags:
        - "1. Core API - Frontend -> Backend"
      summary: "Pobranie zagregowanych danych do dashboardu"
      description: "Zwraca wszystkie dane potrzebne do inicjalnego załadowania dashboardu dla danego miesiąca (KPI, Widżet 1 - kategorie, Widżet 2 - trend)."
      security:
        - bearerAuth: []
      parameters:
        - name: year
          in: query
          required: true
          schema:
            type: integer
            example: 2025
          description: "Rok do analizy"
        - name: month
          in: query
          required: true
          schema:
            type: integer
            example: 11
          description: "Miesiąc do analizy (1-12). Trend 6-miesięczny będzie obliczony wstecz od tej daty."
      responses:
        '200':
          description: "Zagregowane dane do dashboardu"
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DashboardData'
  

  /shopping-lists:
    get:
      operationId: getShoppingLists
      tags:
        - "1. Core API - Frontend -> Backend"
      summary: "Pobranie list zakupowych użytkownika"
      security:
        - bearerAuth: []
      responses:
        '200':
          description: "Lista list zakupowych"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ShoppingList'
    post:
      operationId: createShoppingList
      tags:
        - "1. Core API - Frontend -> Backend"
      summary: "Stworzenie nowej listy zakupowej"
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/NewShoppingList'
      responses:
        '201':
          description: "Lista utworzona"
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ShoppingList'

  /shopping-lists/{shoppingListId}:
    get:
      operationId: getShoppingListDetails
      tags:
        - "1. Core API - Frontend -> Backend"
      summary: "Pobranie pełnych szczegółów listy zakupów"
      description: "Pobiera pełny obiekt listy zakupów, w tym listę wszystkich jego pozycji (itemów). Używane, gdy użytkownik klika 'Details' na liście."
      security:
        - bearerAuth: [ ]
      parameters:
        - name: shoppingListId
          in: path
          required: true
          description: "ID listy zakupów, której szczegóły chcemy pobrać"
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: "Szczegóły wydatku"
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ShoppingList'
        '404':
          description: "Nie znaleziono listy zakupów"

  /shopping-lists/{shoppingListId}/items:
    post:
      operationId: addItemsToShoppingList
      tags:
        - "1. Core API - Frontend -> Backend"
      summary: "Dodanie listy produktów do listy zakupowej"
      description: "Dodaje pełną listę produktów do danej listy zakupowej. Frontend wysyła zbiorcze zapytanie dla wszystkich itemów dodawanych przez użytkownika w danej akcji."
      security:
        - bearerAuth: []
      parameters:
        - name: shoppingListId
          in: path
          required: true
          description: "ID listy zakupów, której szczegóły chcemy pobrać"
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/NewShoppingListItems'
      responses:
        '201':
          description: "Produkt dodany pomyślnie"
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ShoppingListItem'

  /categories:
    get:
      operationId: getCategories
      tags:
        - "1. Core API - Frontend -> Backend"
      summary: "Pobranie wszystkich kategorii użytkownika"
      description: "Zwraca listę zdefiniowanych przez użytkownika kategorii wydatków (np. do dropdowna przy ręcznym dodawaniu wydatku lub filtrowaniu)."
      security:
        - bearerAuth: [ ]
      responses:
        '200':
          description: "Lista kategorii"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Category'
    post:
      operationId: createCategory
      tags:
        - "1. Core API - Frontend -> Backend"
      summary: "Tworzenie nowej kategorii wydatków"
      security:
        - bearerAuth: [ ]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/NewCategory'
      responses:
        '201':
          description: "Kategoria utworzona"
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Category'

  /categories/{categoryId}:
    put:
      operationId: updaetCategory
      tags:
        - "1. Core API - Frontend -> Backend"
      summary: "Aktualizacja kategorii"
      description: "Aktualizuje informacje o kategorii - nazwę i opis"
      security:
        - bearerAuth: [ ]
      parameters:
        - name: categoryId
          in: path
          required: true
          description: "ID kategorii do aktualizacji"
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/NewCategory'
      responses:
        '200':
          description: "Kategoria zaktualizowana pomyślnie"
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Category'
        '404':
          description: "Nie znaleziono kategorii"
        '400':
          description: "Błędne dane wejściowe"
    delete:
      operationId: deleteCategory
      tags:
        - "1. Core API - Frontend -> Backend"
      summary: "Usunięcie kategorii"
      description: "Usunięcie kategorii. Polega na ustawieniu flagi deleted na true, aby nie zwracać tej kategorii jako dostępnej do wyboru, ale żeby stare wydatki nie straciły kategorii"
      security:
        - bearerAuth: [ ]
      parameters:
        - name: categoryId
          in: path
          required: true
          description: "ID kategorii"
          schema:
            type: string
            format: uuid
      responses:
        '204':
          description: "Kategoria usunięta pomyślnie"
        '404':
          description: "Nie znaleziono kategorii"

  /ai/ocr/process:
    post:
      operationId: processReceiptOcr
      tags:
        - "2. AI API - Backend -> Moduł AI"
      summary: "Przetwarzanie obrazu paragonu (OCR)"
      description: "Endpoint modułu AI, który przyjmuje obraz i zwraca ustrukturyzowane dane w formacie JSON. Wykorzystuje biblioteki takie jak Tesseract, easyocr lub PaddleOCR."
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                image:
                  type: string
                  format: binary
      responses:
        '200':
          description: "Dane z paragonu wyekstrahowane pomyślnie"
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OcrResult'
        '400':
          description: "Nie udało się przetworzyć obrazu"


components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT

  schemas:
    UserRegistration:
      type: object
      properties:
        email:
          type: string
          format: email
          example: "jan.kowalski@example.com"
        password:
          type: string
          format: password
          example: "super_secret_password"
          
    UserLogin:
      type: object
      properties:
        email:
          type: string
          format: email
        password:
          type: string
          format: password
          
    AuthResponse:
      type: object
      properties:
        email:
          type: string
          description: "User email"
        token:
          type: string
          description: "Token JWT"
        role:
          $ref: "#/components/schemas/Role"

    ExpenseBase:
      type: object
      properties:
        description:
          type: string
        transactionDate:
          type: string
          format: date-time
        totalAmount:
          type: number
          format: float
        itemCount:
          type: integer

    ExpenseDetails:
      allOf:
        - $ref: "#/components/schemas/ExpenseBase"
        - type: object
          properties:
            expenseId:
              type: string
              format: uuid
            items:
              type: array
              items:
                $ref: '#/components/schemas/ExpenseItem'

    ExpenseSummary:
      allOf:
        - $ref: "#/components/schemas/ExpenseBase"
        - type: object
          properties:
            expenseId:
              type: string
              format: uuid
              description: "ID podsumowywanego wydatku"
              example: "f47ac10b-58cc-4372-a567-0e02b2c3d479"

    OcrExpense:
      allOf:
        - $ref: '#/components/schemas/ExpenseBase'
        - type: object
          properties:
            items:
              type: array
              items:
                $ref: '#/components/schemas/OcrExpenseItem'


    ExpenseSummaryPage:
      type: object
      description: "Standardowy obiekt odpowiedzi dla paginacji (używany przez GET /expenses)"
      properties:
        content:
          type: array
          items:
            $ref: '#/components/schemas/ExpenseSummary'
        page:
          type: integer
          example: 0
        size:
          type: integer
          example: 20
        totalPages:
          type: integer
          example: 5
        totalElements:
          type: integer
          example: 98

    NewExpense:
      type: object
      properties:
        description:
          type: string
        transactionDate:
          type: string
          format: date-time
        items:
          type: array
          items:
            $ref: '#/components/schemas/NewExpenseItem'

    NewOcrExpense:
      type: object
      properties:
        description:
          type: string
        transactionDate:
          type: string
          format: date-time

    ExpenseItemBase:
      type: object
      properties:
        productName:
          type: string
          example: "Mleko 2%"
        quantity:
          type: integer
          default: 1
        price:
          type: number
          format: float
        categoryId:
          type: string
          format: uuid
          description: "ID kategorii z endpointu /categories"
          example: "f47ac10b-58cc-4372-a567-0e02b2c3d479"
          
    ExpenseItem:
      allOf:
        - $ref: '#/components/schemas/ExpenseItemBase'
        - type: object
          properties:
            expenseItemId:
              type: string
              format: uuid
            # Dodajemy categoryName dla wygody frontendu
            categoryName:
              type: string
              example: "Jedzenie"

    NewExpenseItem:
      allOf:
        - $ref: '#/components/schemas/ExpenseItemBase'

    OcrExpenseItem:
      allOf:
        - $ref: '#/components/schemas/ExpenseItemBase'

    DashboardData:
      type: object
      description: "Kompletny obiekt danych potrzebny do renderowania dashboardu."
      properties:
        kpi:
          $ref: '#/components/schemas/DashboardKpi'
        categorySummary:
          type: array
          description: "Dane dla Widżetu 1 (wykres pączkowy)"
          items:
            $ref: '#/components/schemas/DashboardCategorySummaryItem'
        trendSummary:
          type: array
          description: "Dane dla Widżetu 2 (wykres słupkowy 6-miesięczny)"
          items:
            $ref: '#/components/schemas/DashboardTrendItem'

    DashboardKpi:
      type: object
      description: "Kluczowe wskaźniki (Szybkie statystyki) na górze dashboardu."
      properties:
        totalSpendingMonth:
          type: number
          format: float
          example: 3250.75
        budget:
          type: number
          format: float
          example: 4000

    DashboardCategorySummaryItem:
      type: object
      description: "Jeden element na wykresie kategorii (Widżet 1)"
      properties:
        categoryId:
          type: string
          format: uuid
        categoryName:
          type: string
          example: "Jedzenie"
        totalSpendingMonth:
          type: number
          format: float
          example: 1200.50
        budget:
          type: number
          format: float
          example: 4000

    DashboardTrendItem:
      type: object
      description: "Jeden słupek na wykresie trendu (Widżet 2)"
      properties:
        year:
          type: integer
        month:
          type: integer
        totalAmount:
          type: number
          format: float
          example: 2950.00

    Category:
      type: object
      properties:
        categoryId:
          type: string
          format: uuid
        name:
          type: string
          example: "Jedzenie"
        description:
          type: string

    NewCategory:
      type: object
      properties:
        name:
          type: string
          example: "Jedzenie"
        description:
          type: string

    ShoppingList:
      type: object
      properties:
        shoppingListId:
          type: string
          format: uuid
        name:
          type: string
          example: "Zakupy na weekend"
        createdAt:
          type: string
          format: date-time
        items:
          type: array
          items:
            $ref: '#/components/schemas/ShoppingListItem'
        itemCount:
          type: integer

    NewShoppingList:
      type: object
      properties:
        name:
          type: string
        items:
          type: array
          items:
            $ref: '#/components/schemas/NewShoppingListItem'

    ShoppingListItem:
      type: object
      properties:
        shoppingListItemId:
          type: string
          format: uuid
        productName:
          type: string
          example: "Chleb"
        quantity:
          type: integer
          default: 1
        unit:
          type: string
          example: "szt."
        isPurchased:
          type: boolean
          default: false

    NewShoppingListItems:
      type: object
      items:
        type: array
        items:
          $ref: "#/components/schemas/NewShoppingListItem"

    NewShoppingListItem:
      type: object
      properties:
        productName:
          type: string

    OcrResult:
      type: object
      description: "Ustrukturyzowane dane zwrócone przez moduł OCR."
      properties:
        expenses:
          type: array
          items:
            $ref: '#/components/schemas/OcrExpenseItem'

    Role:
      type: string
      enum:
        - ROLE_USER
        - ROLE_ADMIN
      description: "Możliwe role użytkownika"

    RefreshedToken:
      type: object
      description: "New refreshed token"
      properties:
        token:
          type: string

    MonthlyBudget:
      type: object
      properties:
        budgetId:
          type: string
          format: uuid
        year:
          type: integer
        month:
          type: integer
        budget:
          type: number
          format: BigDecimal
          example: 4000.00
        categoryBudgets:
          type: array
          items:
            $ref: '#/components/schemas/CategoryBudget'

    NewMonthlyBudget:
      type: object
      properties:
        budget:
          type: number
          format: BigDecimal
          example: 4000.00
        year:
          type: integer
        month:
          type: integer
        categoryBudgets:
          type: array
          items:
            $ref: '#/components/schemas/NewCategoryBudget'

    CategoryBudget:
      type: object
      properties:
        categoryBudgetId:
          type: string
          format: uuid
        categoryId:
          type: string
          format: uuid
        categoryName:
          type: string
        budget:
          type: number
          format: BigDecimal
          example: 1500.00

    NewCategoryBudget:
      type: object
      properties:
        categoryId:
          type: string
          format: uuid
        budget:
          type: number
          format: BigDecimal
          example: 1500.00